import{r as o,j as e,d as t}from"./index.c153b984.js";import{Link as g}from"./7c2d04db.js";import"./df8606c0.js";import"./3f9ce302.js";import"./2a144923.js";import"./9b7a1339.js";import"./c8a661d6.js";import"./aa08741f.js";import"./bcfb1ab5.js";import{u as y}from"./2adb707e.js";import{e as N,p as v}from"./a91cfc6b.js";import{callLoginApi as E}from"./6eab4cb9.js";import"./c5a2d9c6.js";function D(){const l=y(),[n,i]=o.exports.useState(null),[s,a]=o.exports.useState(""),[c,f]=o.exports.useState(null),[m,w]=o.exports.useState(""),[d,x]=o.exports.useState(null);async function b(r){r.preventDefault(),f(null),x(null),i(null);const u=N(r.currentTarget.email);u&&f(u);const p=v(r.currentTarget.password);if(p&&x(p),u||p)return;const h=await S({email:s,password:m});if(h.error){i(h.error);return}await E({email:s,password:m}),l("/account")}return e("div",{className:"flex justify-center my-24 px-4",children:t("div",{className:"max-w-md w-full",children:[e("h1",{className:"text-4xl font-thin",children:"Create an account"}),t("form",{noValidate:!0,className:"pt-6 pb-8 mt-4 mb-4",onSubmit:b,children:[n&&e("div",{className:"flex items-center justify-center mb-6 bg-zinc-500",children:e("p",{className:"m-4 text-s text-contrast",children:n})}),t("div",{className:"mb-3",children:[e("input",{className:`mb-1 appearance-none rounded border w-full py-2 px-3 text-primary/90 placeholder:text-primary/50 leading-tight focus:shadow-outline ${c?" border-[#14394f]":"border-gray-900"}`,id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"Email address","aria-label":"Email address",autoFocus:!0,value:s,onChange:r=>{a(r.target.value)}}),c?t("p",{className:"text-[#14394f] text-xs",children:[c," \xA0"]}):""]}),t("div",{className:"mb-3",children:[e("input",{className:`mb-1 appearance-none rounded border w-full py-2 px-3 text-primary/90 placeholder:text-primary/50 leading-tight focus:shadow-outline ${d?" border-[#14394f]":"border-gray-900"}`,id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password","aria-label":"Password",value:m,minLength:8,required:!0,onChange:r=>{w(r.target.value)}}),d?t("p",{className:"text-[#14394f] text-xs",children:[d," \xA0"]}):""]}),e("div",{className:"flex items-center justify-between",children:e("button",{className:"bg-[#14394f] text-contrast rounded py-2 px-4 focus:shadow-outline block w-full",type:"submit",children:"Create Account"})}),e("div",{className:"flex items-center mt-4",children:t("p",{className:"align-baseline text-sm",children:["Already have an account? \xA0",e(g,{className:"inline underline text-[#14394f]",to:"/account",children:"Sign in"})]})})]})]})})}async function S({email:l,password:n,firstName:i,lastName:s}){try{const a=await fetch("/account/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:l,password:n,firstName:i,lastName:s})});return a.status===200?{}:a.json()}catch(a){return{error:a.toString()}}}export{D as AccountCreateForm,S as callAccountCreateApi};
//# sourceMappingURL=459c1fe7.js.map
