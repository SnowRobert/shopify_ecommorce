{"version":3,"file":"4674e509.js","sources":["../../../src/lib/placeholders.ts","../../../src/components/cards/ProductCard.client.tsx"],"sourcesContent":["// Demo store placeholders\nconst PLACEHOLDERS = {\n  HEROS: [\n    // primaryHero\n    {\n      heading: {value: 'The Ivy Long Beach, NY'},\n      byline: {\n        value:\n          \"Long Beach, NY's Premier Art / Event Space and Retail Experience\",\n      },\n      cta: {value: 'Get lost in the Ivy →'},\n      handle: 'freestyle',\n      spread: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'Actual ivy.',\n          previewImage: {\n            url: 'https://www.theivylbny.com/images/ivy-wall.jpg',\n          },\n          id: 'gid://shopify/MediaImage/29259478466616',\n          image: {\n            url: 'https://www.theivylbny.com/images/ivy-wall.jpg',\n            width: 5000,\n            height: 3155,\n          },\n        },\n      },\n      // spreadSecondary: {\n      //   reference: {\n      //     mediaContentType: 'IMAGE',\n      //     alt: 'A snowboarder standing on a mountain top in choppy snow, shows off the back of his snowboard which reads Hydrogen in a cursive script.',\n      //     previewImage: {\n      //       url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Hydrogen_Hero_Feature_2.jpg?v=1654902468',\n      //     },\n      //     id: 'gid://shopify/MediaImage/29259478499384',\n      //     image: {\n      //       url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Hydrogen_Hero_Feature_2.jpg?v=1654902468',\n      //       width: 2500,\n      //       height: 3155,\n      //     },\n      //   },\n      // },\n      height: 'full',\n      top: true,\n      loading: 'eager',\n    },\n    // secondaryHero\n    {\n      heading: {value: 'The Winter 2022 Collection'},\n      byline: {value: 'Just Dropped'},\n      cta: {value: 'Shop Now →'},\n      handle: 'winter-2022',\n      spread: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'Three young women in snowboarding attire embracing and laughing while snow falls around them',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Collection_Feature_Wide.jpg?v=1654902160',\n          },\n          id: 'gid://shopify/MediaImage/29259478302776',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Collection_Feature_Wide.jpg?v=1654902160',\n            width: 5000,\n            height: 2500,\n          },\n        },\n      },\n      spreadSecondary: null,\n    },\n    // tertiaryHero\n    {\n      heading: {value: 'From the Slopes to the Chalet'},\n      byline: null,\n      cta: {value: 'Shop Now →'},\n      handle: 'backcountry',\n      spread: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'A skier hikes up a mountain through the snow with skis over their shoulder.',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_1.jpg?v=1654902306',\n          },\n          id: 'gid://shopify/MediaImage/29259478368312',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_1.jpg?v=1654902306',\n            width: 2500,\n            height: 2500,\n          },\n        },\n      },\n      spreadSecondary: {\n        reference: {\n          mediaContentType: 'IMAGE',\n          alt: 'A snow covered lodge is illuminated by lights at night with a dark starry sky and mountain backdrop.',\n          previewImage: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_2.jpg?v=1654902306',\n          },\n          id: 'gid://shopify/MediaImage/29259478401080',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/files/Chalet_Collection_Feature_2.jpg?v=1654902306',\n            width: 2500,\n            height: 2500,\n          },\n        },\n      },\n    },\n  ],\n  PRODUCT_INFO: [\n    {\n      title: 'Description',\n      content:\n        'We threw snow tires on our core classics... Good for all year round! Named after my favorite football match of the year. Just like any of our joints, dress them up or down...',\n    },\n    {\n      title: 'Size and Fit',\n      content:\n        'We threw snow tires on our core classics... Good for all year round! Named after my favorite football match of the year. Just like any of our joints, dress them up or down...',\n    },\n    {\n      title: 'Delivery and Returns',\n      content: `The towels had been hanging from the rod for years. They were stained and worn, and quite frankly, just plain ugly. Debra didn't want to touch them but she really didn't have a choice. It was important for her to see what was living within them. Patrick didn't want to go. The fact that she was insisting they must go made him want to go even less. He had no desire to make small talk with strangers he would never again see just to be polite. But she insisted that Patrick go, and she would soon find out that this would be the biggest mistake she could make in their relationship.`,\n    },\n  ],\n  PRODUCT: {\n    label: 'Limited Edition',\n    id: 'gid://shopify/Product/6730850828344',\n    title: 'The Hydrogen',\n    publishedAt: '2021-06-17T18:33:17Z',\n    handle: 'snowboard',\n    description:\n      \"Description Our flagship board, ideal for technical terrain and those who dare to go where the chairlift can't take you. The Hydrogen excels in the backcountry making riding out of bounds as easy as resort groomers. New for 2021, the Hydrogen Snowboard has Oxygen Pack inserts giving you more float on the deepest days. Care Guide Clean well after use Wax regularly Specs Weight: 5 lb Length: 4 ft Width: 1 ft Manufactured on: 8/2/2021, 3:30:00 PM Manufactured by: Shopify\",\n    priceRange: {\n      minVariantPrice: {\n        amount: '775.0',\n        currencyCode: 'CAD',\n      },\n      maxVariantPrice: {\n        amount: '775.0',\n        currencyCode: 'CAD',\n      },\n    },\n    options: [\n      {\n        name: 'Color',\n        values: ['Morning', 'Evening', 'Night'],\n      },\n      {\n        name: 'Size',\n        values: ['154', '158', '160'],\n      },\n    ],\n    variants: {\n      nodes: [\n        {\n          id: 'gid://shopify/ProductVariant/41007289630776',\n          image: {\n            url: 'https://cdn.shopify.com/s/files/1/0551/4566/0472/products/hydrogen-morning.jpg?v=1636146509',\n            altText: 'The Hydrogen snowboard, color Morning',\n            width: 1200,\n            height: 1504,\n          },\n          priceV2: {\n            amount: '775.0',\n            currencyCode: 'CAD',\n          },\n          compareAtPriceV2: {\n            amount: '840.0',\n            currencyCode: 'CAD',\n          },\n        },\n      ],\n    },\n  },\n};\n\n// Return placeholders for collection Heros when metafields are not set\nexport function getHeroPlaceholder(heros: any[]) {\n  if (!heros?.length) return [];\n\n  // when we pass a collection without metafields,\n  // we merge it with placeholder data\n  return heros.map((hero, index) => {\n    // assume passed hero has metafields data already\n    if (hero?.heading?.value) {\n      return hero;\n    }\n\n    // hero placeholder\n    const placeholder = PLACEHOLDERS.HEROS[index];\n\n    // prioritize metafield data if available, else the hero hero values\n    // otherwise the placeholder values\n    const byLine =\n      hero?.byLine || hero?.descriptionHtml\n        ? {value: hero.descriptionHtml}\n        : placeholder.byline;\n\n    const heading =\n      hero?.heading || hero?.title ? {value: hero.title} : placeholder.heading;\n\n    // merge hero placeholder with hero data\n    return {\n      heading,\n      byLine,\n      cta: hero?.cta || placeholder.cta,\n      handle: hero?.handle || placeholder.handle,\n      id: hero?.id || index,\n      spread: hero?.spread || placeholder.spread,\n      spreadSecondary: hero?.spreadSecondary || placeholder.spreadSecondary,\n      height: placeholder?.height || undefined,\n      top: placeholder?.top || undefined,\n    };\n  });\n}\n\n// get product info placeholder data\nexport function getProductInfoPlaceholder() {\n  function getMultipleRandom(arr: any[], infos: number) {\n    const shuffled = [...arr].sort(() => 0.5 - Math.random());\n    return shuffled.slice(0, infos);\n  }\n  return getMultipleRandom(PLACEHOLDERS.PRODUCT_INFO, 3);\n}\n\nexport function getProductPlaceholder() {\n  return PLACEHOLDERS.PRODUCT;\n}\n","import clsx from 'clsx';\nimport {\n  flattenConnection,\n  Image,\n  Link,\n  Money,\n  useMoney,\n} from '@shopify/hydrogen';\n\nimport {Text} from '~/components';\nimport {isDiscounted, isNewArrival} from '~/lib/utils';\nimport {getProductPlaceholder} from '~/lib/placeholders';\nimport type {\n  MoneyV2,\n  Product,\n  ProductVariant,\n  ProductVariantConnection,\n} from '@shopify/hydrogen/storefront-api-types';\n\nexport function ProductCard({\n  product,\n  label,\n  className,\n  loading,\n  onClick,\n}: {\n  product: Product;\n  label?: string;\n  className?: string;\n  loading?: HTMLImageElement['loading'];\n  onClick?: () => void;\n}) {\n  let cardLabel;\n\n  const cardData = product?.variants ? product : getProductPlaceholder();\n\n  const {\n    image,\n    priceV2: price,\n    compareAtPriceV2: compareAtPrice,\n  } = flattenConnection<ProductVariant>(\n    cardData?.variants as ProductVariantConnection,\n  )[0] || {};\n\n  if (label) {\n    cardLabel = label;\n  } else if (isDiscounted(price as MoneyV2, compareAtPrice as MoneyV2)) {\n    cardLabel = 'Sale';\n  } else if (isNewArrival(product.publishedAt)) {\n    cardLabel = 'New';\n  }\n\n  const styles = clsx('grid gap-6', className);\n\n  return (\n    <Link onClick={onClick} to={`/products/${product.handle}`}>\n      <div className={styles}>\n        <div className=\"card-image aspect-[4/5] bg-primary/5 \">\n          <Text\n            as=\"label\"\n            size=\"fine\"\n            className=\"absolute top-0 right-0 m-4 text-right text-notice font-thin flex flex-col justify-center items-center\"\n          >\n            {cardLabel}\n          </Text>\n          {image && (\n            <Image\n              className=\"aspect-[4/5] w-full object-cover fadeIn\"\n              widths={[320]}\n              sizes=\"320px\"\n              loaderOptions={{\n                crop: 'center',\n                scale: 2,\n                width: 320,\n                height: 400,\n              }}\n              // @ts-ignore Stock type has `src` as optional\n              data={image}\n              alt={image.altText || `Picture of ${product.title}`}\n              loading={loading}\n            />\n          )}\n        </div>\n        <div className=\"gap-1 flex flex-col justify-center items-center\">\n          <Text\n            className=\"w-full overflow-hidden whitespace-nowrap text-ellipsis text-center\"\n            as=\"h3\"\n          >\n            {product.title}\n          </Text>\n          <div className=\"flex gap-4\">\n            <Text className=\"flex gap-4\">\n              <Money withoutTrailingZeros data={price!} />\n              {isDiscounted(price as MoneyV2, compareAtPrice as MoneyV2) && (\n                <CompareAtPrice\n                  className={'opacity-50'}\n                  data={compareAtPrice as MoneyV2}\n                />\n              )}\n            </Text>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\nfunction CompareAtPrice({\n  data,\n  className,\n}: {\n  data: MoneyV2;\n  className?: string;\n}) {\n  const {currencyNarrowSymbol, withoutTrailingZerosAndCurrency} =\n    useMoney(data);\n\n  const styles = clsx('strike', className);\n\n  return (\n    <span className={styles}>\n      {currencyNarrowSymbol}\n      {withoutTrailingZerosAndCurrency}\n    </span>\n  );\n}\n"],"names":["product","label","className","loading","onClick","cardLabel","cardData","variants","getProductPlaceholder","image","priceV2","price","compareAtPriceV2","compareAtPrice","flattenConnection","isDiscounted","isNewArrival","publishedAt","styles","clsx","handle","_jsxs","_jsx","crop","scale","width","height","altText","title","data","currencyNarrowSymbol","withoutTrailingZerosAndCurrency","useMoney"],"mappings":"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"}