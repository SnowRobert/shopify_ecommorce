{"version":3,"file":"9629ab83.js","sources":["../../../node_modules/react-use/esm/useWindowScroll.js","../../../src/components/elements/Input.tsx","../../../src/components/global/CartDrawer.client.tsx","../../../src/components/global/MenuDrawer.client.tsx","../../../src/components/global/Header.client.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nimport useRafState from './useRafState';\nvar useWindowScroll = function () {\n    var _a = useRafState(function () { return ({\n        x: isBrowser ? window.pageXOffset : 0,\n        y: isBrowser ? window.pageYOffset : 0,\n    }); }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handler = function () {\n            setState(function (state) {\n                var pageXOffset = window.pageXOffset, pageYOffset = window.pageYOffset;\n                //Check state for change, return same state if no change happened to prevent rerender\n                //(see useState/setState documentation). useState/setState is used internally in useRafState/setState.\n                return state.x !== pageXOffset || state.y !== pageYOffset\n                    ? {\n                        x: pageXOffset,\n                        y: pageYOffset,\n                    }\n                    : state;\n            });\n        };\n        //We have to update window scroll at mount, before subscription.\n        //Window scroll may be changed between render and effect handler.\n        handler();\n        on(window, 'scroll', handler, {\n            capture: false,\n            passive: true,\n        });\n        return function () {\n            off(window, 'scroll', handler);\n        };\n    }, []);\n    return state;\n};\nexport default useWindowScroll;\n","import clsx from 'clsx';\n\nexport function Input({\n  className = '',\n  type,\n  variant,\n  ...props\n}: {\n  className?: string;\n  type?: string;\n  variant: 'search' | 'minisearch';\n  [key: string]: any;\n}) {\n  const variants = {\n    search:\n      'bg-transparent px-0 py-2 text-heading w-full focus:ring-0 border-x-0 border-t-0 transition border-b-2 border-primary/10 focus:border-primary/90',\n    minisearch:\n      'bg-transparent hidden md:inline-block text-left lg:text-right border-b transition border-transparent -mb-px border-x-0 border-t-0 appearance-none px-0 py-1 focus:ring-transparent placeholder:opacity-20 placeholder:text-inherit',\n  };\n\n  const styles = clsx(variants[variant], className);\n\n  return <input type={type} {...props} className={styles} />;\n}\n","import {CartDetails} from '~/components/cart';\nimport {Drawer} from './Drawer.client';\n\nexport function CartDrawer({\n  isOpen,\n  onClose,\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n}) {\n  return (\n    <Drawer open={isOpen} onClose={onClose} heading=\"Cart\" openFrom=\"right\">\n      <div className=\"grid\">\n        <CartDetails layout=\"drawer\" onClose={onClose} />\n      </div>\n    </Drawer>\n  );\n}\n","import {EnhancedMenu} from '~/lib/utils';\nimport {Text} from '~/components';\nimport {Drawer} from './Drawer.client';\nimport {Link} from '@shopify/hydrogen';\n\nexport function MenuDrawer({\n  isOpen,\n  onClose,\n  menu,\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n  menu: EnhancedMenu;\n}) {\n  return (\n    <Drawer open={isOpen} onClose={onClose} openFrom=\"left\" heading=\"Menu\">\n      <div className=\"grid\">\n        <MenuMobileNav menu={menu} onClose={onClose} />\n      </div>\n    </Drawer>\n  );\n}\n\nfunction MenuMobileNav({\n  menu,\n  onClose,\n}: {\n  menu: EnhancedMenu;\n  onClose: () => void;\n}) {\n  return (\n    // <nav className=\"grid gap-4 p-6 sm:gap-6 sm:px-12 sm:py-8 bg-[url('/images/ivy-bg.jpg')] bg-cover\">\n    <nav className=\"grid gap-4 p-6 sm:gap-6 sm:px-12 sm:py-8\">\n      {/* Top level menu items */}\n      {/* {(menu?.items || []).map((item) => (\n        <Link key={item.id} to={item.to} target={item.target} onClick={onClose}>\n          <Text as=\"span\" size=\"copy\">\n            {item.title}\n          </Text>\n        </Link>\n      ))} */}\n      <Link to=\"/\">\n        <div className=\"text-[#14394f] hover:bg-gradient-to-b from-[#14394f] via-[#14394f] to-pink-400 hover:text-white block px-3 py-2 rounded-md text-base font-medium text-center\">\n          Shop Home\n        </div>\n      </Link>\n      <Link to=\"/products\">\n        <div className=\"text-[#14394f] hover:bg-gradient-to-b from-[#14394f] via-[#14394f] to-pink-400 hover:text-white block px-3 py-2 rounded-md text-base font-medium text-center\">\n          Catalog\n        </div>\n      </Link>\n      <Link to=\"https://www.theivylbny.com/event-list\">\n        <div className=\"text-[#14394f] hover:bg-gradient-to-b from-[#14394f] via-[#14394f] to-pink-400 hover:text-white block px-3 py-2 rounded-md text-base font-medium text-center\">\n          Events\n        </div>\n      </Link>\n    </nav>\n  );\n}\n","import {Link, useUrl, useCart} from '@shopify/hydrogen';\nimport {useWindowScroll} from 'react-use';\nimport {Image} from '@shopify/hydrogen';\n\nimport {\n  Heading,\n  IconAccount,\n  IconBag,\n  IconMenu,\n  IconSearch,\n  Input,\n} from '~/components';\n\nimport {CartDrawer} from './CartDrawer.client';\nimport {MenuDrawer} from './MenuDrawer.client';\nimport {useDrawer} from './Drawer.client';\n\nimport type {EnhancedMenu} from '~/lib/utils';\n\n/**\n * A client component that specifies the content of the header on the website\n */\nexport function Header({title, menu}: {title: string; menu?: EnhancedMenu}) {\n  const {pathname} = useUrl();\n\n  const localeMatch = /^\\/([a-z]{2})(\\/|$)/i.exec(pathname);\n  const countryCode = localeMatch ? localeMatch[1] : undefined;\n\n  const isHome = pathname === `/${countryCode ? countryCode + '/' : ''}`;\n\n  const {\n    isOpen: isCartOpen,\n    openDrawer: openCart,\n    closeDrawer: closeCart,\n  } = useDrawer();\n\n  const {\n    isOpen: isMenuOpen,\n    openDrawer: openMenu,\n    closeDrawer: closeMenu,\n  } = useDrawer();\n\n  return (\n    <>\n      <CartDrawer isOpen={isCartOpen} onClose={closeCart} />\n      <MenuDrawer isOpen={isMenuOpen} onClose={closeMenu} menu={menu!} />\n      <DesktopHeader\n        countryCode={countryCode}\n        isHome={isHome}\n        title={title}\n        menu={menu}\n        openCart={openCart}\n      />\n      <MobileHeader\n        countryCode={countryCode}\n        isHome={isHome}\n        title={title}\n        openCart={openCart}\n        openMenu={openMenu}\n      />\n    </>\n  );\n}\n\nfunction MobileHeader({\n  countryCode,\n  // title,\n  isHome,\n  openCart,\n  openMenu,\n}: {\n  countryCode?: string | null;\n  title: string;\n  isHome: boolean;\n  openCart: () => void;\n  openMenu: () => void;\n}) {\n  const {y} = useWindowScroll();\n\n  const styles = {\n    button: 'relative flex items-center justify-center w-8 h-8',\n    container: `${\n      isHome\n        ? 'bg-primary/80 dark:bg-contrast/60 text-contrast dark:text-primary'\n        : 'bg-contrast/80 text-primary'\n    } ${\n      y > 50 && !isHome ? 'shadow-lightHeader ' : ''\n    }flex lg:hidden items-center h-nav sticky backdrop-blur-lg z-40 top-0 justify-between w-full leading-none gap-4 px-4 md:px-8`,\n  };\n\n  return (\n    <header role=\"banner\" className={styles.container}>\n      <div className=\"flex items-center justify-start w-full gap-4\">\n        <button onClick={openMenu} className={styles.button}>\n          <IconMenu />\n        </button>\n        <form\n          action={`/${countryCode ? countryCode + '/' : ''}search`}\n          className=\"items-center gap-2 sm:flex\"\n        >\n          <button type=\"submit\" className={styles.button}>\n            <IconSearch />\n          </button>\n          <Input\n            className={\n              isHome\n                ? 'focus:border-contrast/20 dark:focus:border-primary/20'\n                : 'focus:border-primary/20'\n            }\n            type=\"search\"\n            variant=\"minisearch\"\n            placeholder=\"Search\"\n            name=\"q\"\n          />\n        </form>\n      </div>\n\n      <Link\n        className=\"flex items-center self-stretch leading-[3rem] md:leading-[4rem] justify-center flex-grow w-full h-full\"\n        to=\"https://www.theivylbny.com/\"\n      >\n        <Heading\n          className=\"font-bold text-center pt-6\"\n          as={isHome ? 'h1' : 'h2'}\n        >\n          {/* {title} */}\n          <Image\n            src=\"https://www.theivylbny.com/images/the-ivy.png\"\n            width={80}\n            height={35}\n            alt=\"The Ivy logo\"\n          />\n        </Heading>\n      </Link>\n\n      <div className=\"flex items-center justify-end w-full gap-4\">\n        <Link to={'/account'} className={styles.button}>\n          <IconAccount />\n        </Link>\n        <button onClick={openCart} className={styles.button}>\n          <IconBag />\n          <CartBadge dark={isHome} />\n        </button>\n      </div>\n    </header>\n  );\n}\n\nfunction DesktopHeader({\n  countryCode,\n  isHome,\n  menu,\n  openCart,\n  title,\n}: {\n  countryCode?: string | null;\n  isHome: boolean;\n  openCart: () => void;\n  menu?: EnhancedMenu;\n  title: string;\n}) {\n  const {y} = useWindowScroll();\n\n  const styles = {\n    button:\n      'relative flex items-center justify-center w-8 h-8 focus:ring-primary/5',\n    container: `${\n      isHome\n        ? 'bg-primary/80 dark:bg-contrast/60 text-contrast dark:text-primary'\n        : 'bg-contrast/80 text-primary'\n    } ${\n      y > 50 && !isHome ? 'shadow-lightHeader ' : ''\n    }hidden h-nav lg:flex items-center sticky transition duration-300 backdrop-blur-lg z-40 top-0 justify-between w-full h-10 leading-none gap-8 px-12 py-8`,\n  };\n\n  return (\n    <header role=\"banner\" className={styles.container}>\n      <div className=\"flex gap-12\">\n        <Link className={`font-bold`} to=\"/\">\n          {/* {title} */}\n          <div className=\"pt-6\">\n            <Image\n              src=\"/imgs/logo.png\"\n              width={108}\n              height={65}\n              alt=\"The Ivy logo\"\n            />\n          </div>\n        </Link>\n        <div className=\"pt-8 text-[#14394f]font-medium text-base\">\n          <nav className=\"flex gap-8 items-center\">\n            {/* Top level menu items */}\n            {/* {(menu?.items || []).map((item) => (\n              <Link key={item.id} to={item.to} target={item.target}>\n                <div className=\"text-[#14394f]hover:bg-gradient-to-b from-[#14394f]via-[#14394f]to-pink-400 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">\n                  {item.title}\n                </div>\n              </Link>\n            ))} */}\n            {/* 👆 OG 👇 NEW */}\n            <Link to=\"/products\">\n              <div className=\"text-black px-3 py-2 rounded-md text-base font-medium\">\n                Shop\n              </div>\n            </Link>\n            <Link to=\"/story\">\n              <div className=\"text-black px-3 py-2 rounded-md text-base font-medium\">\n                Our Story\n              </div>\n            </Link>\n            <Link to=\"/event\">\n              <div className=\"text-black px-3 py-2 rounded-md text-base font-medium\">\n                Events\n              </div>\n            </Link>\n          </nav>\n        </div>\n      </div>\n      <div className=\"flex items-center gap-1\">\n        <form\n          action={`/${countryCode ? countryCode + '/' : ''}search`}\n          className=\"flex items-center gap-2\"\n        >\n          <Input\n            className={\n              isHome\n                ? 'focus:border-contrast/20 dark:focus:border-primary/20'\n                : 'focus:border-primary/20'\n            }\n            type=\"search\"\n            variant=\"minisearch\"\n            placeholder=\"Search\"\n            name=\"q\"\n          />\n          <button type=\"submit\" className={styles.button}>\n            <IconSearch />\n          </button>\n        </form>\n        <Link to={'/account'} className={styles.button}>\n          <IconAccount />\n        </Link>\n        <button onClick={openCart} className={styles.button}>\n          <IconBag />\n          <CartBadge dark={isHome} />\n        </button>\n      </div>\n    </header>\n  );\n}\n\nfunction CartBadge({dark}: {dark: boolean}) {\n  const {totalQuantity} = useCart();\n\n  if (totalQuantity < 1) {\n    return null;\n  }\n  return (\n    <div\n      className={`${\n        dark\n          ? 'text-primary bg-contrast dark:text-contrast dark:bg-primary'\n          : 'text-contrast bg-primary'\n      } absolute bottom-1 right-1 text-[0.625rem] font-medium subpixel-antialiased h-3 min-w-[0.75rem] flex items-center justify-center leading-none text-center rounded-full w-auto px-[0.125rem] pb-px`}\n    >\n      <span>{totalQuantity}</span>\n    </div>\n  );\n}\n"],"names":["useEffect","className","type","variant","props","styles","clsx","variants","search","minisearch","isOpen","onClose","menu","_jsx","title","pathname","useUrl","localeMatch","exec","countryCode","undefined","isHome","isCartOpen","openDrawer","openCart","closeDrawer","closeCart","useDrawer","isMenuOpen","openMenu","closeMenu","_Fragment","y","useWindowScroll","button","container","_jsxs","dark","totalQuantity","useCart"],"mappings":"ixBAGA,GAAI,GAAkB,UAAY,CAC9B,GAAI,GAAK,EAAY,UAAY,CAAE,MAAQ,CACvC,EAAG,EAAY,OAAO,YAAc,EACpC,EAAG,EAAY,OAAO,YAAc,CAC5C,CAAS,CAAA,EAAG,EAAQ,EAAG,GAAI,EAAW,EAAG,GACrCA,SAAAA,QAAAA,UAAU,UAAY,CAClB,GAAI,GAAU,UAAY,CACtB,EAAS,SAAU,EAAO,CACtB,GAAI,GAAc,OAAO,YAAa,EAAc,OAAO,YAG3D,MAAO,GAAM,IAAM,GAAe,EAAM,IAAM,EACxC,CACE,EAAG,EACH,EAAG,CACN,EACC,CACtB,CAAa,CACb,EAGQ,WACA,EAAG,OAAQ,SAAU,EAAS,CAC1B,QAAS,GACT,QAAS,EACrB,CAAS,EACM,UAAY,CACf,EAAI,OAAQ,SAAU,CAAO,CACzC,CACK,EAAE,CAAE,CAAA,EACE,CACX,EACA,EAAe,ECjCO,WAAA,CACpBC,YAAY,GACZC,OACAC,aACGC,GAMF,CAQD,KAAMC,GAASC,EAAKC,AAPH,CACfC,OACE,kJACFC,WACE,oOAAA,EAGyBN,GAAUF,CAApB,EAEnB,SAAO,QAAA,CAAO,OAAP,GAAuBG,EAAO,UAAWC,CAAAA,CAAhD,CACD,CCpB0B,WAAA,CACzBK,SACAC,WAIC,CACD,SACG,EAAD,CAAQ,KAAMD,EAAQ,UAAkB,QAAQ,OAAO,SAAS,QAAhE,WACE,MAAA,CAAK,UAAU,OAAf,WACG,EAAD,CAAa,OAAO,SAAS,SAAA,CAA7B,CAAA,CADF,CAAA,CAFJ,CAOD,CCZ0B,WAAA,CACzBA,SACAC,UACAC,QAKC,CACD,SACG,EAAD,CAAQ,KAAMF,EAAQ,UAAkB,SAAS,OAAO,QAAQ,OAAhE,WACE,MAAA,CAAK,UAAU,OAAf,WACG,EAAD,CAAe,OAAY,SAAA,CAA3B,CAAA,CADF,CAAA,CAFJ,CAOD,CAED,WAAuB,CACrBE,OACAD,WAIC,CACD,SAEE,MAAA,CAAK,UAAU,2CAAf,SAAA,CASEE,EAAC,EAAD,CAAM,GAAG,IAAT,WACE,MAAA,CAAK,UAAU,+JAAf,SAAA,WAAA,CAAA,CAAA,CAVJ,EAcEA,EAAC,EAAD,CAAM,GAAG,YAAT,WACE,MAAA,CAAK,UAAU,+JAAf,SAAA,SAAA,CAAA,CAAA,CAfJ,EAmBEA,EAAC,EAAD,CAAM,GAAG,wCAAT,WACE,MAAA,CAAK,UAAU,+JAAf,SAAA,QAAA,CAAA,CAAA,CApBJ,CAAA,CAAA,CAAA,CA0BH,CCpCsB,YAAA,CAACC,QAAOF,QAA6C,CACpE,KAAA,CAACG,YAAYC,EAAnB,EAEMC,EAAc,uBAAuBC,KAAKH,CAA5B,EACdI,EAAcF,EAAcA,EAAY,GAAKG,OAE7CC,EAASN,IAAc,IAAGI,EAAcA,EAAc,IAAM,KAE5D,CACJT,OAAQY,EACRC,WAAYC,EACZC,YAAaC,GACXC,EAJJ,EAMM,CACJjB,OAAQkB,EACRL,WAAYM,EACZJ,YAAaK,GACXH,EAJJ,EAMA,SACEI,EAAA,CAAA,SAAA,CACElB,EAAC,EAAD,CAAY,OAAQS,EAAY,QAASI,CAAAA,CAD3C,EAEEb,EAAC,EAAD,CAAY,OAAQe,EAAY,QAASE,EAAW,MAAA,CAFtD,EAGEjB,EAAC,EAAD,CACE,cACA,SACA,QACA,OACA,UAAA,CARJ,EAUEA,EAAC,EAAD,CACE,cACA,SACA,QACA,WACA,UAAA,CAfJ,CAAA,CAAA,CADF,CAoBD,CAED,WAAsB,CACpBM,cAEAE,SACAG,WACAK,YAOC,CACK,KAAA,CAACG,KAAKC,EAAZ,EAEM5B,EAAS,CACb6B,OAAQ,oDACRC,UAAY,GACVd,EACI,oEACA,iCAEJW,EAAI,IAAM,CAACX,EAAS,sBAAwB,+HAAA,EAIhD,SACE,SAAA,CAAQ,KAAK,SAAS,UAAWhB,EAAO8B,UAAxC,SACE,CAAAC,EAAA,MAAA,CAAK,UAAU,+CAAf,SACE,CAAAvB,EAAA,SAAA,CAAQ,QAASgB,EAAU,UAAWxB,EAAO6B,OAA7C,SACErB,EAAC,EAAD,EAAA,CAAA,CADF,EAGAuB,EAAA,OAAA,CACE,OAAS,IAAGjB,EAAcA,EAAc,IAAM,WAC9C,UAAU,6BAFZ,SAIE,CAAAN,EAAA,SAAA,CAAQ,KAAK,SAAS,UAAWR,EAAO6B,OAAxC,SACErB,EAAC,EAAD,EAAA,CAAA,CALJ,EAOEA,EAAC,EAAD,CACE,UACEQ,EACI,wDACA,0BAEN,KAAK,SACL,QAAQ,aACR,YAAY,SACZ,KAAK,GAAA,CAhBT,CAAA,CAAA,CAJF,CAAA,CAAA,CADF,EA0BER,EAAC,EAAD,CACE,UAAU,yGACV,GAAG,8BAFL,WAIG,EAAD,CACE,UAAU,6BACV,GAAIQ,EAAS,KAAO,KAFtB,WAKG,EAAD,CACE,IAAI,gDACJ,MAAO,GACP,OAAQ,GACR,IAAI,cAAA,CAJN,CAAA,CALF,CAAA,CAJF,EAkBAe,EAAA,MAAA,CAAK,UAAU,6CAAf,SAAA,CACEvB,EAAC,EAAD,CAAM,GAAI,WAAY,UAAWR,EAAO6B,OAAxC,SACErB,EAAC,EAAD,EAAA,CAAA,CADF,EAGAuB,EAAA,SAAA,CAAQ,QAASZ,EAAU,UAAWnB,EAAO6B,OAA7C,SAAA,CACGrB,EAAA,EADH,CAAA,CAAA,IAEG,EAAD,CAAW,KAAMQ,CAAAA,CAFnB,CAAA,CAAA,CAJF,CAAA,CAAA,CA5CF,CAAA,CAAA,CADF,CAwDD,CAED,WAAuB,CACrBF,cACAE,SACAT,OACAY,WACAV,SAOC,CACK,KAAA,CAACkB,KAAKC,EAAZ,EAEM5B,EAAS,CACb6B,OACE,yEACFC,UAAY,GACVd,EACI,oEACA,iCAEJW,EAAI,IAAM,CAACX,EAAS,sBAAwB,0JAAA,EAIhD,SACE,SAAA,CAAQ,KAAK,SAAS,UAAWhB,EAAO8B,UAAxC,SACE,CAAAC,EAAA,MAAA,CAAK,UAAU,cAAf,SAAA,CACEvB,EAAC,EAAD,CAAM,UAAY,YAAY,GAAG,IAAjC,WAEE,MAAA,CAAK,UAAU,OAAf,WACG,EAAD,CACE,IAAI,iBACJ,MAAO,IACP,OAAQ,GACR,IAAI,cAAA,CAJN,CAAA,CADF,CAAA,CAFF,EAWAA,EAAA,MAAA,CAAK,UAAU,2CAAf,WACE,MAAA,CAAK,UAAU,0BAAf,SAAA,CAUEA,EAAC,EAAD,CAAM,GAAG,YAAT,WACE,MAAA,CAAK,UAAU,wDAAf,SAAA,MAAA,CAAA,CAAA,CAXJ,EAeEA,EAAC,EAAD,CAAM,GAAG,SAAT,WACE,MAAA,CAAK,UAAU,wDAAf,SAAA,WAAA,CAAA,CAAA,CAhBJ,EAoBEA,EAAC,EAAD,CAAM,GAAG,SAAT,WACE,MAAA,CAAK,UAAU,wDAAf,SAAA,QAAA,CAAA,CAAA,CArBJ,CAAA,CAAA,CAAA,CAAA,CAbJ,CAAA,CAAA,CAAA,EAyCAuB,EAAA,MAAA,CAAK,UAAU,0BAAf,SACE,CAAAA,EAAA,OAAA,CACE,OAAS,IAAGjB,EAAcA,EAAc,IAAM,WAC9C,UAAU,0BAFZ,SAAA,CAIEN,EAAC,EAAD,CACE,UACEQ,EACI,wDACA,0BAEN,KAAK,SACL,QAAQ,aACR,YAAY,SACZ,KAAK,GAAA,CATP,EAWAR,EAAA,SAAA,CAAQ,KAAK,SAAS,UAAWR,EAAO6B,OAAxC,SACErB,EAAC,EAAD,EAAA,CAAA,CAhBJ,CAAA,CAAA,CADF,EAoBEA,EAAC,EAAD,CAAM,GAAI,WAAY,UAAWR,EAAO6B,OAAxC,SACErB,EAAC,EAAD,EAAA,CAAA,CADF,EAGAuB,EAAA,SAAA,CAAQ,QAASZ,EAAU,UAAWnB,EAAO6B,OAA7C,SAAA,CACGrB,EAAA,EADH,CAAA,CAAA,IAEG,EAAD,CAAW,KAAMQ,CAAAA,CAFnB,CAAA,CAAA,CAvBF,CAAA,CAAA,CA1CF,CAAA,CAAA,CADF,CAyED,CAED,WAAmB,CAACgB,QAAwB,CACpC,KAAA,CAACC,iBAAiBC,EAAxB,EAEA,MAAID,GAAgB,EACX,OAGP,MAAA,CACE,UAAY,GACVD,EACI,8DACA,8NAJR,WAOE,OAAA,CAAA,SAAOC,CAAAA,CAAP,CAAA,CARJ,CAWD"}