import{r as o,j as e,c as t}from"./index.f2b2141e.js";import{Link as g}from"./1071856f.js";import"./d170438b.js";import"./7542601b.js";import"./5fb3ed56.js";import"./1716977d.js";import"./8af873eb.js";import"./e51f79a2.js";import"./84e93da1.js";import{u as y}from"./e6d90f68.js";import{e as N,p as v}from"./650abe93.js";import{callLoginApi as E}from"./36f4d766.js";import"./646bb2f9.js";function D(){const l=y(),[n,i]=o.exports.useState(null),[s,a]=o.exports.useState(""),[c,f]=o.exports.useState(null),[m,w]=o.exports.useState(""),[u,x]=o.exports.useState(null);async function b(r){r.preventDefault(),f(null),x(null),i(null);const d=N(r.currentTarget.email);d&&f(d);const p=v(r.currentTarget.password);if(p&&x(p),d||p)return;const h=await S({email:s,password:m});if(h.error){i(h.error);return}await E({email:s,password:m}),l("/account")}return e("div",{className:"flex justify-center my-24 px-4",children:t("div",{className:"max-w-md w-full",children:[e("h1",{className:"text-4xl font-thin",children:"Create an account"}),t("form",{noValidate:!0,className:"pt-6 pb-8 mt-4 mb-4",onSubmit:b,children:[n&&e("div",{className:"flex items-center justify-center mb-6 bg-zinc-500",children:e("p",{className:"m-4 text-s text-contrast",children:n})}),t("div",{className:"mb-3",children:[e("input",{className:`mb-1 appearance-none rounded border w-full py-2 px-3 text-primary/90 placeholder:text-primary/50 leading-tight focus:shadow-outline ${c?" border-[#14394f]":"border-gray-900"}`,id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"Email address","aria-label":"Email address",autoFocus:!0,value:s,onChange:r=>{a(r.target.value)}}),c?t("p",{className:"text-[#14394f] text-xs",children:[c," \xA0"]}):""]}),t("div",{className:"mb-3",children:[e("input",{className:`mb-1 appearance-none rounded border w-full py-2 px-3 text-primary/90 placeholder:text-primary/50 leading-tight focus:shadow-outline ${u?" border-[#14394f]":"border-gray-900"}`,id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password","aria-label":"Password",value:m,minLength:8,required:!0,onChange:r=>{w(r.target.value)}}),u?t("p",{className:"text-[#14394f] text-xs",children:[u," \xA0"]}):""]}),e("div",{className:"flex items-center justify-between",children:e("button",{className:"bg-[#14394f] text-contrast rounded py-2 px-4 focus:shadow-outline block w-full",type:"submit",children:"Create Account"})}),e("div",{className:"flex items-center mt-4",children:t("p",{className:"align-baseline text-sm",children:["Already have an account? \xA0",e(g,{className:"inline underline text-[#14394f]",to:"/account",children:"Sign in"})]})})]})]})})}async function S({email:l,password:n,firstName:i,lastName:s}){try{const a=await fetch("/account/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:l,password:n,firstName:i,lastName:s})});return a.status===200?{}:a.json()}catch(a){return{error:a.toString()}}}export{D as AccountCreateForm,S as callAccountCreateApi};
//# sourceMappingURL=e381c070.js.map
