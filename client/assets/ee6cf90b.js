import{r as c,d as x,T as y,j as n,c as o,F as m}from"./index.f2b2141e.js";import{Link as R}from"./1071856f.js";import"./d170438b.js";import"./7542601b.js";import"./5fb3ed56.js";import{u as d,S as E}from"./944d37a2.js";import"./1716977d.js";import{M as N}from"./a0281b8f.js";import{C}from"./8af873eb.js";import"./e51f79a2.js";import"./84e93da1.js";import{B as S}from"./6fc1a161.js";import"./650abe93.js";import{c as O,T as u,H as L,I as P}from"./5089d9cc.js";import{ProductCard as _}from"./4674e509.js";/* empty css        */import{I as j}from"./a60ae586.js";import{BaseButton as q}from"./5154d50d.js";function B(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function I(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var ke=typeof window!="undefined",T=function(e){c.exports.useEffect(e,[])},$=T,F=function(e){var t=c.exports.useRef(e);t.current=e,$(function(){return function(){return t.current()}})},Q=F,U=function(e){var t=c.exports.useRef(0),r=c.exports.useState(e),a=r[0],s=r[1],i=c.exports.useCallback(function(l){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){s(l)})},[]);return Q(function(){cancelAnimationFrame(t.current)}),[a,i]},D=U,J=function(e){var t=D({x:0,y:0}),r=t[0],a=t[1];return c.exports.useEffect(function(){var s=function(){e.current&&a({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&B(e.current,"scroll",s,{capture:!1,passive:!0}),function(){e.current&&I(e.current,"scroll",s)}},[e]),r},k=J;function M(e){const t=Array.isArray(e)?e:[e];let r="";for(const a of t)a!=null&&(typeof a=="object"?!!a.body&&typeof a.body=="string"?(r+=a.body,!!a.headers&&a.headers[x]&&(r+=a.headers[x])):r+=JSON.stringify(a):r+=a);return r}const g={};function z(e,t,r=!1){const a=M(e);if(g[a]){const i=g[a];if(r)return;if(i.error)throw i.error;if(i.response)return i.response;if(!r)throw i.promise}const s={promise:t().then(i=>s.response=i).catch(i=>s.error=i)};if(g[a]=s,!r)throw s.promise}const H=(e,t)=>z(e,t);function K(e){return String(e).includes("__proto__")?JSON.parse(e,V):JSON.parse(e)}function V(e,t){if(e!=="__proto__")return t}function W({children:e,line:t}){return y.createElement(C.Provider,{value:t},e)}function f(){const e=c.exports.useContext(C);if(e==null)throw new Error("Expected a cart line context but none was found");return e}function Y(e){const t=f(),{priceType:r="regular",...a}=e,s=r==="regular"?t.cost.totalAmount:t.cost.compareAtAmountPerQuantity;return s==null?null:y.createElement(N,{...a,data:s})}function G(e){const t=f(),{as:r,...a}=e,s=r||"span";return y.createElement(s,{...a},t.quantity)}function b(e){const{status:t,linesRemove:r,linesUpdate:a}=d(),s=f(),{children:i,adjust:l,onClick:h,...p}=e,A=c.exports.useCallback(()=>{if(l==="remove"){r([s.id]);return}const v=l==="decrease"?s.quantity-1:s.quantity+1;if(v<=0){r([s.id]);return}a([{id:s.id,quantity:v}])},[l,s.id,s.quantity,r,a]);return n(q,{disabled:t!=="idle",onClick:h,defaultOnClick:A,...p,children:i})}function X(e){const{lines:t}=d(),r=c.exports.useMemo(()=>t.map(a=>({id:a.merchandise.id,quantity:a.quantity})),[t]);return n(E,{variantIdsAndQuantities:r,...e})}function Z(e,t){const[r,a]=H([e,t],async()=>{const s=await globalThis.fetch(new URL(e,window.location.origin),t);return[await s.text(),s]});return{response:a,json:()=>K(r),text:()=>r}}function w({as:e="div",width:t,height:r,className:a,...s}){const i=O("rounded bg-primary/10",a);return n(e,{...s,width:t,height:r,className:i})}function ee({onClose:e,layout:t="drawer"}){const r=c.exports.useRef(null),{y:a}=k(r),s={drawer:`grid content-start gap-4 px-6 pb-8 transition overflow-y-scroll md:gap-12 md:px-12 h-screen-no-nav md:pb-12 ${a>0?"border-t":""}`,page:"grid pb-12 w-full md:items-start gap-4 md:gap-8 lg:gap-12"},i={drawer:"",page:"md:grid-cols-4 sm:grid-col-4"};return o("div",{ref:r,className:s[t],children:[o("section",{className:"grid gap-6",children:[n(u,{format:!0,children:"Looks like you haven\u2019t added anything yet, let\u2019s get you started!"}),n("div",{children:n(S,{onClick:e,children:"Continue shopping"})})]}),o("section",{className:"grid gap-8 pt-4",children:[n(L,{format:!0,size:"copy",children:"Shop Best Sellers"}),n("div",{className:`grid grid-cols-2 gap-x-6 gap-y-8 ${i[t]}`,children:n(c.exports.Suspense,{fallback:n(re,{}),children:n(te,{onClose:e})})})]})]})}function te({onClose:e}){const t=Z("/api/bestSellers").json();return t.length===0?n(u,{format:!0,children:"No products found."}):n(m,{children:t.map(r=>n(_,{product:r,onClick:e},r.id))})}function re(){return n(m,{children:[...new Array(4)].map((e,t)=>o("div",{className:"grid gap-2",children:[n(w,{className:"aspect-[3/4]"}),n(w,{className:"w-32 h-4"})]},t))})}function ne(){const{linesRemove:e}=d(),{id:t,quantity:r,merchandise:a}=f();return o("li",{className:"flex gap-4",children:[n("div",{className:"flex-shrink",children:n(j,{width:112,height:112,widths:[112],data:a.image,loaderOptions:{scale:2,crop:"center"},className:"object-cover object-center w-24 h-24 border rounded md:w-28 md:h-28"})}),o("div",{className:"flex justify-between flex-grow",children:[o("div",{className:"grid gap-2",children:[n(L,{as:"h3",size:"copy",children:n(R,{to:`/products/${a.product.handle}`,children:a.product.title})}),n("div",{className:"grid pb-2",children:((a==null?void 0:a.selectedOptions)||[]).map(s=>o(u,{color:"subtle",children:[s.name,": ",s.value]},s.name))}),o("div",{className:"flex items-center gap-2",children:[n("div",{className:"flex justify-start text-copy",children:n(ae,{lineId:t,quantity:r})}),o("button",{type:"button",onClick:()=>e([t]),className:"flex items-center justify-center w-10 h-10 border rounded",children:[n("span",{className:"sr-only",children:"Remove"}),n(P,{"aria-hidden":"true"})]})]})]}),n(u,{children:n(Y,{as:"span"})})]})]},t)}function ae({lineId:e,quantity:t}){return o(m,{children:[o("label",{htmlFor:`quantity-${e}`,className:"sr-only",children:["Quantity, ",t]}),o("div",{className:"flex items-center border rounded",children:[n(b,{adjust:"decrease","aria-label":"Decrease quantity",className:"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait",children:"\u2212"}),n(G,{as:"div",className:"px-2 text-center"}),n(b,{adjust:"increase","aria-label":"Increase quantity",className:"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait",children:"+"})]})]})}function se({layout:e,onClose:t}){const{lines:r}=d(),a=c.exports.useRef(null),{y:s}=k(a);if(r.length===0)return n(ee,{onClose:t,layout:e});const i={drawer:"grid grid-cols-1 h-screen-no-nav grid-rows-[1fr_auto]",page:"pb-12 grid md:grid-cols-2 md:items-start gap-8 md:gap-8 lg:gap-12"},l={drawer:"px-6 pb-6 sm-max:pt-2 overflow-auto transition md:px-12",page:"flex-grow md:translate-y-4"},h={drawer:"grid gap-6 p-6 border-t md:px-12",page:"sticky top-nav grid gap-6 p-4 md:px-6 md:translate-y-4 bg-primary/5 rounded w-full"};return o("form",{className:i[e],children:[n("section",{ref:a,"aria-labelledby":"cart-contents",className:`${l[e]} ${s>0?"border-t":""}`,children:n("ul",{className:"grid gap-6 md:gap-10",children:r.map(p=>n(W,{line:p,children:n(ne,{})},p.id))})}),o("section",{"aria-labelledby":"summary-heading",className:h[e],children:[n("h2",{id:"summary-heading",className:"sr-only",children:"Order summary"}),n(oe,{}),n(ie,{})]})]})}function ie(){const{checkoutUrl:e}=d();return n(m,{children:o("div",{className:"grid gap-4",children:[n(S,{to:e,children:"Continue to Checkout"}),n(X,{})]})})}function oe(){var t;const{cost:e}=d();return n(m,{children:n("dl",{className:"grid",children:o("div",{className:"flex items-center justify-between font-medium",children:[n(u,{as:"dt",children:"Subtotal"}),n(u,{as:"dd",children:(t=e==null?void 0:e.subtotalAmount)!=null&&t.amount?n(N,{data:e==null?void 0:e.subtotalAmount}):"-"})]})})})}var Ae=Object.freeze(Object.defineProperty({__proto__:null,CartDetails:se},Symbol.toStringTag,{value:"Module"}));export{se as C,I as a,Ae as b,ke as i,B as o,D as u};
//# sourceMappingURL=ee6cf90b.js.map
